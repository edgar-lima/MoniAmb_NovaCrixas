---
title: "Monitoramento Ambiental Nova Crixas 2017"
author: "Prof. MSc. Edgar Luiz de Lima"
date: "12/04/2022"
output: html_document
---


Carregando os pacotes que serão utilizados.
```{r}
library(vegan)
library(BiodiversityR)
library(openxlsx)
library(ggplot2)
library(dplyr)
library(stringr)
```

# Pré processamento e manipulação do conjunto de dados.

1. Carregando e visualizando o conjunto de dados.
```{r}
dados<-read.xlsx("NovaCrixas2017.xlsx",sheet = 2)
View(dados)
str(dados[,c(1,2)])
```
2. Transformando as colunas Periodo e Ponto em fator.
```{r}
dados$Periodo<-as.factor(dados$Periodo)
dados$Ponto<- as.factor(dados$Ponto)
str(dados[,c(1,2)])
```


3. Filtrando a base de dados e criando uma nova base de dados para cada mês.
```{r}
mar<- dados[dados[,1]=="Marco",]
jun<- dados[dados[,1]=="Junho",]

mar<- mar[,-1]
jun<- jun[,-1]

View(mar)
View(jun)
```

# Análise de dados

1. Calculando a curva de acumulação de espécies para os meses de março, junho e para os dois meses juntos.

A curva de acumulação foi construída utilizando mil aleatoriazações e a riqueza estimada foi obtida a partir do método Jacknife de primeira ordem.
```{r}
acmar<- accumresult(mar[,-1], 
                    method = "random",gamma = "jack1", permutations = 1000)

acjun<- accumresult(jun[,-1], 
                    method = "random", gamma = "jack1",permutations = 1000)

acjunto<- accumresult(dados[,- c(1,2)], 
                    method = "random", gamma = "jack1",permutations = 1000)
```

2. Calculando o índice de diversidade de Shannon e a sua equabilidade.
```{r}
# Março
shmar<- diversityresult(mar[,-1], index = "Shannon", method = "pooled")
evmar<- diversityresult(mar[,-1], index = "Jevenness", method = "pooled")

# Junho
shjun<- diversityresult(jun[,-1], index = "Shannon", method = "pooled")
evjun<- diversityresult(jun[,-1], index = "Jevenness", method = "pooled")

# Março e junho juntos
shjunto<- diversityresult(dados[,-c(1,2)], index = "Shannon", method = "pooled")
evjunto<- diversityresult(dados[,-c(1,2)], index = "Jevenness", method = "pooled")
```

